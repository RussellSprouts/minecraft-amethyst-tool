'use strict';function Gd(a){let b=0;for(let c=0;c<a.length;c++)b=(31*b|0)+a.charCodeAt(c)|0;return BigInt.asIntN(32,BigInt(b))}async function Hd(){var a=new Id;const b=new DataView(new ArrayBuffer(8));b.setBigInt64(0,a.value,!0);a=await crypto.subtle.digest("SHA-256",b);return(new DataView(a)).getBigInt64(0,!0)}var Id=class{constructor(){var a=Jd.value;if(a.match(/^[+-]?[0-9]+$/)){const b=BigInt(a);this.value=BigInt.asIntN(64,b)===b?b:Gd(a)}else this.value=Gd(a)}};(0,Nb)();(0,function(){for(const a of document.querySelectorAll(".hiding-checkbox")){const b=(0,Eb)(a,HTMLInputElement),c=(0,E)(`#${b.dataset["for"]}`);c.classList.toggle("hidden",!b.checked);b.addEventListener("change",()=>{c.classList.toggle("hidden",!b.checked)})}})();(0,Uc)();
const Jd=(0,E)("#seed",HTMLInputElement),Kd=(0,E)("#region-files",HTMLInputElement),Ld=(0,E)("#hover"),Md=(0,E)("#message"),Nd=new bd("#map"),Od=(0,E)("#seed-form",HTMLFormElement),Pd=(0,E)("#region-files-form",HTMLFormElement),Qd=(0,E)("#cancel-button",HTMLButtonElement);Nd.o=!0;function Rd(a){for(const b of document.querySelectorAll(".step")){const c=(0,Eb)(b,HTMLElement),d=(0,Fb)(c.dataset.step);c.classList.toggle("hidden",parseInt(d)>a)}}Od.addEventListener("submit",a=>{a.preventDefault();Rd(2)});
Pd.addEventListener("submit",a=>{a.preventDefault();Rd(3)});Qd.addEventListener("click",()=>{confirm("This will stop loading the rest of the world!")&&(0,Cb)()});
Kd.addEventListener("change",async()=>{var a=Kd.files;const b={},c={};if(a&&a.length){const d=await Hd();({progress:a}=(0,Db)(d,Array.from(a)));a.addEventListener("progress",e=>{if("chunk"===e.detail.type)$c(Nd,e.detail.x,e.detail.z,e.detail.W?"#91322f":e.detail.X?"#5373bd":"#aefca7",16),Nd.o=!0;else if("quart"===e.detail.type)$c(Nd,e.detail.x,e.detail.z,e.detail.W?"red":e.detail.X?"#1e52c9":"#35c91e",4),Nd.o=!0;else if("block"===e.detail.type)$c(Nd,e.detail.x,e.detail.z,e.detail.ca?"blue":e.detail.pa?
"red":e.detail.ka?"#009":"green",1),Nd.o=!0;else if("message"===e.detail.type)Md.textContent=e.detail.message;else if("chunk-quart"===e.detail.type){const f=e.detail.x;e=e.detail.z;const g=ad(Nd,f,e,16);$c(Nd,f,e,"#91322f"===g?"red":"#5373bd"===g?"#1e52c9":g,16);Nd.o=!0}else"estimates"===e.detail.type?(console.log("BEST:",e.detail),Object.assign(b,e.detail.ha??{}),Object.assign(c,e.detail.oa??{})):"quart-block"===e.detail.type?($c(Nd,e.detail.x,e.detail.z,e.detail.Z?"blue":e.detail.$?"red":e.detail.aa?
"#009":"green",4),Nd.o=!0):"chunk-block"===e.detail.type&&($c(Nd,e.detail.x,e.detail.z,e.detail.ea?"blue":e.detail.fa?"red":e.detail.ga?"#009":"green",16),Nd.o=!0)});Nd.o=!0;Nd.addEventListener("mousemove",(e,f)=>{const g=(0,v)(Math.floor(e/4),0,Math.floor(f/4)),h=(0,v)(Math.floor(e/16),0,Math.floor(f/16));Ld.textContent=`x:${e} z:${f} <${c[g]??b[h]??"??"} river columns`})}});
//# sourceMappingURL=drowned.js.map
