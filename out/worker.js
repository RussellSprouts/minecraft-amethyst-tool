'use strict';importScripts("../third_party/pako/pako.min.js","./root.js");const zd=new Map;console.log("I am the worker!");zd.set(ib.event,ib);zd.set(jb.event,jb);let Ad="";const Bd=new Map;
async function Cd(a){console.log("handling remote call",a.data,typeof importScripts);if("init-worker"===a.data.event)Ad=a.data.value.name,console.log(`I'm the worker ${Ad}.`);else if("register-worker"===a.data.event){var b=a.ports[0];b.onmessage=Cd;Bd.set(a.data.value.name,b);console.log(`The worker ${Ad} now knows about ${a.data.value.name}`);b.postMessage({event:"hello",value:{from:Ad,name:a.data.value.name}})}else if("hello"===a.data.event)console.log("Received a hello!",Ad,a.data.value);else{b=
zd.get(a.data.event);if(!b)throw Error(`Unhandled event ${a.data.event}`);var c=[];postMessage({event:a.data.event,id:a.data.id,value:await b.V({progress(d){postMessage({event:"progress",X:a.data.event,id:a.data.id,value:d})},Z(d){c.push(...d)}},...a.data.U)},c)}}onmessage=Cd;
//# sourceMappingURL=worker.js.map
